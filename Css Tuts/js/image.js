let imageUrl =
  "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAJwAfQMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAADBAIFAAEGBwj/xAA7EAACAQMDAQYDBwIEBwEAAAABAgMABBESITFBBRMiUWFxBoGRBxQyobHR8CNCM4LB8SRDUmJykuEV/8QAGQEAAwEBAQAAAAAAAAAAAAAAAAECAwQF/8QAHhEBAQEBAAMBAQEBAAAAAAAAAAERAgMSIRNBFDH/2gAMAwEAAhEDEQA/APaUNFU0uhoymmQtZWhW6RsrKysoDKysrKAysrKygMrKysoDKiTWzUWNAQc0BjvRHNAY71UJtGphDVMe0UB8HzyaZt+0YnYAjGduad5pe0Wimp0pLcdzHrxqHoaUn7RkO0YCj6mp9bTtkWtYTVD98uNQbvTTa3/eJpdu7OOcc07xS9j/AN4j1adQzRKqY5rcFe8QMQMZFTku2ZgY3KgdKPWjVnWFgOSBVRLfzxgBXRvXG9KvfzE705xResdDqXzFZmudjv5A3i4qwtrjvtkkGfInBovGFO9WRobGl5LlYvDLJpbyxQzcbZV8j2qfWq0VzQGO9BkumFLteb9KrE689te3ZVx3mG9aurDtoMfAcEedcPBIMANt6U9CzDg10ZGbvF7UZkwXOPLNES9B5rkrW4cYGokeRNWUUpYZB+VHrA6AXCHrRFlU1SxOzdOKIZiuwNKwLfvFrkO3vjy07MupbWJdc0ZIJkBC5Hy3q3+86F1O4VRyWOAK8Y+Jlubjtq6n7uMa5CQqSK303rLye0yRr45Ltr3DsHtWLtns2O9iQx6iQyHoR61YEA1w/wBnP3iz+Go1uYnjLyu66s+IHrjoP2rqlvR1zV87Z9R1JKdwKzOKUN2Mc1r70vnVZUmHc9WJ9zQTO6HKsR86G06kc0vJMPOjAPLfSY3wfWlHvjncHNAlmHnSbzDPNPINcJHeocfntT0F6itywH1pCG0xjg08lqSMaaFLK37QTjOT7U4naAOMK3yqvtrHOMJj51Zw2J6Lj509iTcd8cYAbHvTcMquBsdX/TQoLIjGcGqv4uu37H7K+8IVXXIsbE9Aeceu1LYJHJ/aFNew9p4h7RaW3cbwo/8Agnbbb659a4wFz4QD9Ktnm78O52Vm8APUedQCAbgb1nedbT47L7PO1EgspLLtG6ZSXzbh9wgxuM++9dlrV11xSKyHhgc5rx6PtLuYpI+7QmRdJLICUPmD0PtXYfZvfS3899BM2ZGCypn/ANTj8qvnqSYjrn+uvLsDzWjIw5/WnTYuRsuKXksJQd9h7VXtEYCZ3Azg4oT3PmcGiPYSgErq+RpWe1uRtzRsCEsx6b0lJOwapyRzD8Sn5UnJG+r++jQ56y7WZ7kQNCM89eK6G2uDga4QB64qmWOHWGPd6uMjFWNsF/tK/kK86+fqOr8uV3BdRkeFFOOcMNqrr/40tezr9rQ2jSBNmYOBvU1Gw1PjHXXQD2V2XPcm5mtoZZmOS7sTn88Uv9HW/T/GOrs+2beS0E/csFKascnHyFcZ9qHa0V52bYwxRuupjIQwxjGBv16muit3ihhWOFUSMcKp2rg/tEuA99aovSJifmf/AJT8fm666yi+KczXOROdP4h02zR+98NJI2mDGwBbI33qTt5V1TpniU8oOfDuRvV99n3aQ7O+JbWVzhH/AKT+zbftXNNv1okE3dOjqu6kH3qdPH0DP8T9mW+A80QJOAGkUb/WoXHxLZJavcKpmVFLYiZWJx5VSLbWrY/4ODJA/wCSv7Vtre3GwtoQD/2AVyf6Omn5Rb//ALcTQrIsLAPxqGKrL74qsLWUxTyIkgXUylh4R5nypJ7S2A2hUYOR6H0pW4SI7GND7gGnPP2X58mpPiK1fSU0EMcfiX38/Kl37XyxyqL6HH71XyxoN9AHtilGCA4Vaf7dj8uVJC+EOCAOhG9WEM7RoIxuzNpXJ+v50kloGIU7R6QeNtqZFk66GyHZFbfPBJrOyLlDe9uO90IdY6YPX3py2mlwCSNjyAaXa3kV4u4TSjEBv3oyQzyYkjfwjJ9xWdipVjbd+zZLHTxVF8aWEyC3u2YPzGQo/D1HHzq4hguI4xJMWBbj1pO+guJrOaNnZ2ZSEGOTjI/1+tLx3170+vsczDHBHbrLMNTlcqhHPkc0kxyxJ5PNO3iy5jUoy6kXQp/Fj26UmI3YZUZy6p65OcfpXpWz+OaRGiWY1XkC4zmVR+YqDIyytHjLKxU433BxT3YFv3/bNshGyP3jf5d6jq5NVP8Ar1aG6IyO9B32yK215qyQwyvoKq7OBpNUjEHquaJ3AJBZ8joBXmTXTR5b5Bg92T/lqtn7SyBiAEnjemLhl3w+DxvVU6MzMTjGTWsTibXMbjMkYB8gaBJcQI2CB9aAQCx1uT5YpeZI2bOQferiaxJTq1cjHX0p23lKAZxnVgjHWqO3l/qxgnGgEknrVkkw8PiwTnxetHUEq1hKAk9VpuExIFUbBcHy/nWqaFxDDmQlieo6Zo1vN4lVW15xkHruTWd1WL9QisWOXXJIGc4zUzFBga0VTq1DjPTFVouwkeQDvzn+7yoy3qO2vbY4GRjjn8qiqmKP4lt437RlaOTK4CuqcgEjYeWePrVB2cogLkRmVIbmNmIH4QNXXz6Vb9uAiWQRD/Gi/qOWPhyCc8bAYH8NR7Nhik+G7krFqdpSwQc5yMD6V089Zz9ZWb0prWNYssxXWeuxrv7HsextZjcRQATSga3JJx5geXHSuIjhbvRGinGOMY/L9q9AS4VdQXACfhyfnU+W34riN92m/i6/z6GgTDRlVc6eMnc4x/vW3mEUmnOSM9Pn/rQGmV49KnSw33rKSHdJzl2I0gEbD2NKXTyJGxAJw+MA+9OXZVidB69Dx0pORgxOCdyRgdcb5rSROkJHd5Aofz342/maAJfG4xwcc03JEomJU5yCB6UJI0CqVRdxk6q0+JqugbvNbM2x8K+u1SmkeJ9R4I2+mKUiPhBbjV4QPKjTDvWTc4BIO/tiqsGraJ+9YKrZCqpx+tGt5GhkidkHBy3rnbFU9rc6ZiqnCEYAptbkawnKAbEc7DFZWLlWlxOO83J0oQox1P8ABUbMCa5mcv4YwFYasjjkfP8ASgNJD3OCo1FdZI6mtRNFb22YNu8YgkDyPH61mozfxm6gECs4hlYmWToQBtgepxU7d49RhiOghcls9c7/ADpeJpbieA4AGsuMchc4H5Ch2uUnkkZiI28JyRjzOT+1Mv61ahX7RjmZW0gA56c5z6eXzpi37QMrXRA8AcHSB0zj96r5mhigd4yWaRdI3wVXj86G6pEutDkE68HYrgZz/PSrsl+pXP3z7wpdWBHU5/nSgi6cJuVKjOdJ3zSNiv8ATuTr8Pcl0z6YpWOb+oAW2K7k7+VE4GreWcleTlT160Oe4AI049fnScU2VkmJ2XwsD5/7UtPN5cfrVTktOy3S5UAbs3T+elDEzYwBjBpBpcsuDuCMVpZCdidxtV4Wlw6hiqjOE5NRR2AYb7EfWho27ZPQ4rAxCN55q8QO5CqNyW6kUVZisYGem1LRNhsE7cVs5yoPUUryenxLrjVWOMgDPtWzIJJlCEhSTzwg60gDllUE7Zz7VJJNPJ30mpvJ+y8hlRLZ37zxAhF649aFcFh2cuQRlshsbAcfvVfHcaItLcNg7eoqcl9IbdYTuV2wf0rP0V7GIZTOrYiJKgKARnbnNQdO6iwWy2o6hnfp+1L97qQsUAC8gDAz/tWg+MKMA5yWI4qs+lpiOdiWXUSFVlXTsDkYx7bE0B5VEhAxlUOdhvtQ5CyugfzBP8/nNDkx32eAW3xVyFphZGERJcFWYAj1xQXlI0gf2n69KFKQI9GMeLbfPnQ2IO3NVIRoMA0bNnBIJNAdyCNJ6VuVyY8Z/u2+VBY8b9KchNA7AAdKzipJsPeoedMJDmpFySnoKGvX2reePagJnVhcH8W2POtn8YHO+KxNzH/4k1tvDIMdCKQEYlIQ451/6CjxKFc5GQcYY+e3X5ml59oIvXJP1pm3JDNg/hC4+lTYaT6Yo0jkGGZ9RzyB50BnbLyA4JIyD5UO4Ynxk5Yscn50MMSoBOw2okGis3eKCf7dhUJWGx3zxW8eBfYUPJLL71WEOY9errvSwJGSNulNIxLSZPSlM7UQMBrRrdaNUH//2Q==";

function getFileNameFromBase64Image(base64Image) {
  // Decode the base64 string to binary data
  const binaryData = atob(base64Image);

  // Determine the image format based on the first few bytes of the binary data
  let fileExtension = "";
  if (binaryData.charCodeAt(0) === 0xff && binaryData.charCodeAt(1) === 0xd8) {
    fileExtension = ".jpg";
  } else if (
    binaryData.charCodeAt(0) === 0x89 &&
    binaryData.charCodeAt(1) === 0x50 &&
    binaryData.charCodeAt(2) === 0x4e &&
    binaryData.charCodeAt(3) === 0x47 &&
    binaryData.charCodeAt(4) === 0x0d &&
    binaryData.charCodeAt(5) === 0x0a &&
    binaryData.charCodeAt(6) === 0x1a &&
    binaryData.charCodeAt(7) === 0x0a
  ) {
    fileExtension = ".png";
  } else {
    return "unsupported image format";
    // throw new Error("Unsupported image format");
  }

  // Return a file name with the appropriate file extension
  return `image${fileExtension}`;
}

// console.log(getFileNameFromBase64Image(imageUrl));

console.log(imageUrl.split(":")[1].split(";")[0].split("/")[1]);
